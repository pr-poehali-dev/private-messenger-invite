# üöÄ –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Å –¥–æ—Å—Ç—É–ø–æ–º —Ç–æ–ª—å–∫–æ –ø–æ –∏–Ω–≤–∞–π—Ç-—Å—Å—ã–ª–∫–∞–º.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê **–î–æ—Å—Ç—É–ø –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º** ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–æ –∏–Ω–≤–∞–π—Ç-—Å—Å—ã–ª–∫–∞–º
- üí¨ **–õ–∏—á–Ω—ã–µ —á–∞—Ç—ã** ‚Äî –æ–±—â–µ–Ω–∏–µ –æ–¥–∏–Ω-–Ω–∞-–æ–¥–∏–Ω –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üé® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω** ‚Äî —è—Ä–∫–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, –ø–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- üåì **–¢–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞** ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- üë• **–°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
- üõ°Ô∏è **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–∞–π—Ç–∞–º–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî JWT —Ç–æ–∫–µ–Ω—ã, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (bcrypt)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Frontend
- **React** + **TypeScript** + **Vite**
- **TailwindCSS** + **shadcn/ui** ‚Äî –∫—Ä–∞—Å–∏–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **React Router** ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- **Lucide Icons** ‚Äî –∏–∫–æ–Ω–∫–∏

### Backend
- **Python 3.11** ‚Äî Cloud Functions
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **JWT** ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **bcrypt** ‚Äî —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `users` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `invites` ‚Äî –∏–Ω–≤–∞–π—Ç-—Å—Å—ã–ª–∫–∏
- `chats` ‚Äî —á–∞—Ç—ã
- `chat_members` ‚Äî —É—á–∞—Å—Ç–Ω–∏–∫–∏ —á–∞—Ç–æ–≤
- `messages` ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è
- `refresh_tokens` ‚Äî refresh —Ç–æ–∫–µ–Ω—ã

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `/init` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –∏–Ω–≤–∞–π—Ç"
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å—Å—ã–ª–∫—É
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

### 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ –∏–Ω–≤–∞–π—Ç-—Å—Å—ã–ª–∫—É –≤–∏–¥–∞:
```
https://your-app.com/auth?invite=TOKEN
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ, –ª–∞—Ç–∏–Ω–∏—Ü–∞)
- –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è
- –ü–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)

–ü–µ—Ä–≤—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–≤–∞–π—Ç–æ–≤ (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

1. –í–æ–π–¥–∏—Ç–µ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä
2. –û—Ç–∫—Ä–æ–π—Ç–µ **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** (–∏–∫–æ–Ω–∫–∞ —â–∏—Ç–∞ –≤ —Å–∞–π–¥–±–∞—Ä–µ)
3. –£–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–≤–∞–π—Ç–∞:
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π (1-‚àû)
   - –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –≤ –¥–Ω—è—Ö (1-365)
4. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É"
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –¥—Ä—É–∑—å—è–º

## üì° API Endpoints

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (`/auth`)
- `POST` ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥
  - `{ action: 'register', username, displayName, password, inviteToken }`
  - `{ action: 'login', username, password }`
- `GET` ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å Authorization header)

### –ß–∞—Ç—ã (`/chats`)
- `GET ?action=list_chats` ‚Äî –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤
- `GET ?action=messages&chatId=ID` ‚Äî –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞
- `POST { action: 'create_chat', userId }` ‚Äî –°–æ–∑–¥–∞—Ç—å —á–∞—Ç
- `POST { action: 'send_message', chatId, body }` ‚Äî –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ

### –ò–Ω–≤–∞–π—Ç—ã (`/invites`)
- `GET` ‚Äî –°–ø–∏—Å–æ–∫ –∏–Ω–≤–∞–π—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã)
- `POST { maxUses, daysValid }` ‚Äî –°–æ–∑–¥–∞—Ç—å –∏–Ω–≤–∞–π—Ç (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã)
- `DELETE { inviteId }` ‚Äî –û—Ç–æ–∑–≤–∞—Ç—å –∏–Ω–≤–∞–π—Ç (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã)

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (`/users`)
- `GET` ‚Äî –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (`/init`)
- `GET` ‚Äî –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- `POST` ‚Äî –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π –∏–Ω–≤–∞–π—Ç (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ—Ç)

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **JWT —Ç–æ–∫–µ–Ω—ã**
   - Access token (60 –º–∏–Ω—É—Ç)
   - Refresh token (30 –¥–Ω–µ–π)
   - –•—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage

2. **–ü–∞—Ä–æ–ª–∏**
   - –•—ç—à–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ bcrypt
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ ‚Äî 6 —Å–∏–º–≤–æ–ª–æ–≤

3. **–ò–Ω–≤–∞–π—Ç—ã**
   - –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –∏–ª–∏ –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–µ
   - –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∑—ã–≤–∞

4. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
   - –í—Å–µ endpoint'—ã (–∫—Ä–æ–º–µ auth –∏ init) –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ç–æ–∫–µ–Ω
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /auth –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞

## üé® –î–∏–∑–∞–π–Ω

### –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞
- **Primary**: #8B5CF6 (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
- **Secondary**: #0EA5E9 (–≥–æ–ª—É–±–æ–π)
- **Accent**: #D946EF (—Ä–æ–∑–æ–≤—ã–π)

### –®—Ä–∏—Ñ—Ç—ã
- **Rubik** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —à—Ä–∏—Ñ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ê–Ω–∏–º–∞—Ü–∏–∏
- Fade-in –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∫–∞—Ä—Ç–æ—á–µ–∫
- Scale-in –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
- –ü–ª–∞–≤–Ω—ã–µ hover-—ç—Ñ—Ñ–µ–∫—Ç—ã

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/
‚îú‚îÄ‚îÄ backend/              # Backend —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ auth/            # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ chats/           # –ß–∞—Ç—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ invites/         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–≤–∞–π—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ users/           # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ init/            # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/      # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ messenger/  # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/         # UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (shadcn/ui)
‚îÇ   ‚îú‚îÄ‚îÄ contexts/       # React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ hooks/          # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ lib/            # –£—Ç–∏–ª–∏—Ç—ã –∏ API
‚îÇ   ‚îú‚îÄ‚îÄ pages/          # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îî‚îÄ‚îÄ types/          # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ db_migrations/       # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îî‚îÄ‚îÄ public/             # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
```

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

Backend —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç:
- `DATABASE_URL` ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `JWT_SECRET` ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞)
- `AWS_ACCESS_KEY_ID` ‚Äî –¥–ª—è S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- `AWS_SECRET_ACCESS_KEY` ‚Äî –¥–ª—è S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è MVP

- ‚ùå –ù–µ—Ç WebSocket (—Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É)
- ‚ùå –ù–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚ùå –ù–µ—Ç –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
- ‚ùå –ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚ùå –ù–µ—Ç –ø–æ–∏—Å–∫–∞ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º
- ‚ùå –ù–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

## üöÄ –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

1. **WebSocket** ‚Äî —Ä–µ–∞–ª-—Ç–∞–π–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
2. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤** ‚Äî –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç—ã
3. **–ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç
4. **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Äî –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
5. **–ì–æ–ª–æ—Å–æ–≤—ã–µ/–≤–∏–¥–µ–æ –∑–≤–æ–Ω–∫–∏** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è WebRTC
6. **E2E —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –ø–æ–ª–Ω–∞—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
7. **–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** ‚Äî React Native

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–°–æ–∑–¥–∞–Ω–æ –∫–∞–∫ –¥–µ–º–æ-–ø—Ä–æ–µ–∫—Ç –Ω–∞ poehali.dev

---

**–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è! üöÄ**
